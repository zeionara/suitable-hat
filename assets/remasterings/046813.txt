Это переделка из http://vk.com/wall-45491419_64 если вдруг кто не понял :)
